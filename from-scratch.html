<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>

    <title>DND Project</title>
    <script>
        function exportJSON() {
            var pname = document.getElementById("pname").value;
            var cname = document.getElementById("cname").value;
            var align1 = document.getElementById("align1").value;
            var alaign2 = document.getElementById("align2").value;
            var background = document.getElementById("background").value;
            var race = document.getElementById("race").value;
            var subrace = document.getElementById("subrace").value;
            var level = document.getElementById("level").value;
            var c = document.getElementById("class").value;
            var strength = document.getElementById("strength").value;
            var dexterity = document.getElementById("dexterity").value;
            var constitution = document.getElementById("constitution").value;
            var intelligence = document.getElementById("intelligence").value;
            var wisdom = document.getElementById("wisdom").value;
            var charisma = document.getElementById("charisma").value;
            var profbon = document.getElementById("profbon").value;
            var strsave = document.getElementById("strsave").value;
            var dexsave = document.getElementById("dexsave").value;
            var consave = document.getElementById("consave").value;
            var intsave = document.getElementById("intsave").value;
            var wissave = document.getElementById("wissave").value;
            var chasave = document.getElementById("chasave").value;
            var acrobatics = document.getElementById("acrobatics").value;
            var animalhandling = document.getElementById("animalhandling").value;
            var arcana = document.getElementById("arcana").value;
            var athletics = document.getElementById("athletics").value;
            var deception = document.getElementById("deception").value;
            var history = document.getElementById("history").value;
            var insight = document.getElementById("insight").value;
            var intimidation = document.getElementById("intimidation").value;
            var investigation = document.getElementById("investigation").value;
            var medicine = document.getElementById("medicine").value;
            var nature = document.getElementById("nature").value;
            var perception = document.getElementById("perception").value;
            var performance = document.getElementById("performance").value;
            var persuasion = document.getElementById("persuasion").value;
            var religion = document.getElementById("religion").value;
            var sleight = document.getElementById("sleight").value;
            var stealth = document.getElementById("stealth").value;
            var survival = document.getElementById("survival").value;
            var ac = document.getElementById("ac").value;
            var intial = document.getElementById("intial").value;
            var spd = document.getElementById("spd").value;
            var mhp = document.getElementById("mhp").value;
            var nhd = document.getElementById("nhd").value;
            var misc = document.getElementById("misc").value;



            var data = {
                "pname":name,
                "cname":cname,
                "align1":align1,
                "align2":alaign2,
                "background":background,
                "race":race,
                "subrace":subrace,
                "level":level,
                "class":c,
                "strength":strength,
                "dexterity":dexterity,
                "constitution":constitution,
                "intelligence":intelligence,
                "wisdom":wisdom,
                "charisma":charisma,
                "profbon":profbon,
                "strsave":strsave,
                "dexsave":dexsave,
                "consave":consave,
                "intsave":intsave,
                "wissave":wissave,
                "chasave":chasave,
                "acrobatics":acrobatics,
                "animalhandling":animalhandling,
                "arcana":arcana,
                "athletics":athletics,
                "deception":deception,
                "history":history,
                "insight":insight,
                "intimidation":intimidation,
                "investigation":investigation,
                "medicine":medicine,
                "nature":nature,
                "perception":perception,
                "performance":performance,
                "persuasion":persuasion,
                "religion":religion,
                "sleight":sleight,
                "stealth":stealth,
                "survival":survival,
                "ac":ac,
                "intial":intial,
                "spd":spd,
                "mhp":mhp,
                "nhd":nhd,
                "misc":misc,
            };
            var json = JSON.stringify(data);
            var downloadLink = document.createElement("a");
        downloadLink.href = "data:text/plain;charset=utf-8," + encodeURIComponent(json);
        downloadLink.download = "data.json";
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
        };
    </script>
</head>
<body>
    <div id="header">
        <h2>DND Character Creation</h2>
        <p>
            Welcome to the D&D 5e character creator! Please note that any class, race, and background specific 
            abilities will not be automatically added, so we recommend looking at the Player Handbook, other 
            supplemental pieces of DnD media. There will be a place to fill in any abilities in Step 5.
        </p>
      </div>
      
    <div class="parallax">
        <br>

        <div class="OverButton">
            <button id="StartOver" name="StartOver" type="button"><b>Start Over</b></button>
        </div>

        <div id="popup-box">
            <h2>Do you wish to continue?</h2>
            <p>All progress will be lost</p>
            <button id="yes-btn">Yes</button>
            <button id="no-btn">No</button>
        </div>

        <script>
            const popupBtn = document.getElementById('StartOver');
            const popupBox = document.getElementById('popup-box');
            const noBtn = document.getElementById('no-btn');
            const yesBtn = document.getElementById('yes-btn');
          
            popupBtn.addEventListener('click', () => {
              popupBox.style.display = 'block';
            });
          
            noBtn.addEventListener('click', () => {
              popupBox.style.display = 'none';
            });
          
            yesBtn.addEventListener('click', () => {
              window.location.href = 'index.html';
            });
          </script>

        <form method="post" action="generate_pdf.php">
        <div>

            <div id="step-1">
                <h2>Step 1: Character Info, Race, and Class</h2>
                <div class="container">
                    <div class="row">
                        <div class="col-lg">
                            <label for="pname">Your Name:</label><br>
                            <input type="text" id="pname" name="pname">
                        </div>
                        <div class="col-lg">
                            <label for="cname">Character Name:</label><br>
                            <input type="text" id="cname" name="cname">
                        </div>
                        <div class="col-lg">
                            <label for="align1">Alignment:</label><br>
                                <select name="align1" id="align1">
                                    <option value="none">(Choose)</option>
                                    <option value="lawful">Lawful</option>
                                    <option value="neutral">Neutral</option>
                                    <option value="chaotic">Chaotic</option>
                                </select>
                                <select name="align2" id="align2">
                                    <option value="none">(Choose)</option>
                                    <option value="good">Good</option>
                                    <option value="neutral">Neutral</option>
                                    <option value="evil">Evil</option>
                                </select>
                                <br><br>
                        </div>
                        <div class="col-lg">
                            <label for="background">Background:</label><br>
                            <input type="text" id="background" name="bg">
                            <br><br>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-lg">
                            <label for="race">Race:</label><br>
                            <input type="text" id="race" name="race"><br><br>
                        </div>
                        <div class="col-lg">
                            <label for="level">Character Level:</label><br>
                            <input type="number" id="level" max=20 min=1 name="charlev"><br><br>
                        </div>
                        <div class="col-lg">
                            <label for="class">Class:</label><br>
                            <input type="text" id="class" name="class"><br><br>
                        </div>
                    </div>
                </div>
            </div>

            <br><br>
            
            <div id="step-2">
                <h2>Step 2: Assigning Ability Scores</h2>
                <div class="container">
                    <div class="row">
                        <div class="col-lg">
                            <button type="button" id="rollstats">Roll 6 random stat numbers</button>
                        </div>
                        <div class="col-lg"></div>
                        <div class="col-lg">
                                <button type="button" id="sarray">Get Standard Array</button>
                        </div>
                    </div>
                </div>
                <div id="rolledstats"></div><br>
                    <script src = "statroller.js"></script>
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <label for="strength">Strength (Str):</label>
                                <input type="number" id="strength" max=20 min=1 name="str">
                                <label>[+X]</label><br>
                            </div>
                            
                            <div class="col-sm">
                                <label for="dexterity">Dexterity (Dex):</label>
                                <input type="number" id="dexterity" max=20 min=1 name="dex">
                                <label>[+X]</label><br>
                            </div>

                            <div class="col-sm">
                                <label for="consitution">Constitution (Con):</label>
                                <input type="number" id="constitution" max=20 min=1 name="con">
                                <label>[+X]</label><br>
                            </div>
                        </div>
                    </div>

                    <br>

                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <label for="intelligence">Intelligence (Int):</label>
                                <input type="number" id="intelligence" max=20 min=1 name="int">
                                <label>[+X]</label><br>
                            </div>
                            
                            <div class="col-sm">
                                <label for="wisdom">Wisdom (Wis):</label>
                                <input type="number" id="wisdom" max=20 min=1 name="wis">
                                <label>[+X]</label><br>
                            </div>

                            <div class="col-sm">
                                <label for="charisma">Charisma (Cha):</label>
                                <input type="number" id="charisma" max=20 min=1 name="cha">
                                <label>[+X]</label><br>
                            </div>

                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-lg"></div>
                            <div class="col-lg">
                                <button type="button" id="commitstats">Update Ability Scores</button>
                            </div>
                            <div class="col-lg"></div>
                        </div>
                    </div>
                </div>

                <br><br>
            
            <div id="step-3">
                <h2>Step 3: Proficiency, Saving Throws and Abilities</h2>
                <div class="container">
                    <div class="row">
                        <div class="col-lg"></div>
                        <div class="col-lg">
                            <label for="profbon">Proficiency Bonus:</label>
                            <input type="number" id="profbon" max=6 min=2 name="profbonus" value=2>
                        </div>
                        <div class="col-lg"></div>
                    </div>
                </div>
                <p>These parts will mostly be filled out automatically by using your Stats. Click the checkmark near each 
                    Saving Throw or Ability you have proficiency in.
                </p>
                <div class="container">
                    <div class="row">
                        <div class="col-lg">
                            <h3>Saving Throws</h3>
                            <input type="checkbox" id="strsave" value="">
                            <label for="strsave">Strength</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="dexsave" value="">
                            <label for="dexsave">Dexterity</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="consave" value="">
                            <label for="consave">Constitution</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="intsave" value="">
                            <label for="intsave">Intelligence</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="wissave" value="">
                            <label for="wissave">Wisdom</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="chasave" value="">
                            <label for="chasave">Charisma</label>
                            <label>[+X]</label><br>
                        </div>

                        <div class="col-lg"></div>
                        
                        <div class="col-lg">
                            <h3>Abilities</h3>
                            <input type="checkbox" id="acrobatics" value="">
                            <label for="acrobatics">Acrobatics (Str)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="animalhandling" value="">
                            <label for="animalhandling">Animal Handling (Wis)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="arcana" value="">
                            <label for="arcana">Arcana (Int)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="athletics" value="">
                            <label for="athletics">Athletics (Str)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="deception" value="">
                            <label for="deception">Deception (Cha)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="history" value="">
                            <label for="history">History (Int)</label>
                            <label>[+X]</label><br>
                        </div>

                        <div class="col-lg">
                            <br><br>
                            <input type="checkbox" id="insight" value="">
                            <label for="insight">Insight (Wis)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="intimidation" value="">
                            <label for="intimidation">Intimidation (Cha)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="investigation" value="">
                            <label for="investigation">Investigation (Int)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="medicine" value="">
                            <label for="medicine">Medicine (Wis)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="nature" value="">
                            <label for="nature">Nature (Int)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="perception" value="">
                            <label for="perception">Perception (Wis)</label>
                            <label>[+X]</label><br>
                        </div>

                        <div class="col-lg">
                            <br><br>
                            <input type="checkbox" id="performance" value="">
                            <label for="performance">Performance (Cha)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="persuasion" value="">
                            <label for="persuasion">Persuasion (Cha)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="religion" value="">
                            <label for="religion">Religion (Int)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="sleight" value="">
                            <label for="sleight">Sleight of Hand (Dex)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="stealth" value="">
                            <label for="stealth">Stealth (Dex)</label>
                            <label>[+X]</label><br>
                            <input type="checkbox" id="survival" value="">
                            <label for="survival">Survival (Wis)</label>
                            <label>[+X]</label><br>
                        </div>
                    </div>
                </div>
            </div>


            <br><br>

            <div id="step-4">
                <h2>Step 4: Battle Stats</h2>

            <div class="container">
                <div class="row">
                    <div class="col-sm">
                        <label for="ac">Armor Class:</label>
                        <input type="number" id="batstats" name="ac"><br>
                    </div>

                    <div class="col-sm">
                        <label for="initiative">Initiative:</label>
                        <input type="number" id="batstats" name="init">
                    </div>
                        <div class="col-sm">
                            
                            <label for="speed">Speed:</label>
                            <input type="number" id="spd" name="speed">
                        </div>
                        <div class="col-sm">
                            <label for="mhp">Max HP:</label>
                            <input type="number" id="mhp" name="mhp"><br><br>
                        </div>
                        <div class="col-sm">
                            <label for="nhd">Number of Hit Dice:</label>
                            <input type="text" id="nhd" name="">
                        </div>
                    </div>
                </div>
            </div>

            <br><br>

            <div id="step-5">
                <h2>Step 5: Abilities, Equipment, Spellcasting, Etc.</h2>

                <p>Depending on the options you chose above, you will gain different abilities, equipment, and spells. 
                Feel free to use this box to keep track of them.
                </p>

                <h3>Currency:</h3>
                <div class="row">
                    <div class="col-sm">
                        <label for="ac">Copper</label>
                        <input type="number" id="curr" name="cop"><br>
                    </div>
    
                    <div class="col-sm">
                        <label for="Initiative">Silver</label>
                        <input type="number" id="curr" name="sil">
                    </div>
                    <div class="col-sm">     
                        <label for="speed">Electrum</label>
                        <input type="number" id="curr" name="ele">
                    </div>
                    <div class="col-sm">
                        <label for="mhp">Gold</label>
                        <input type="number" id="curr" name="gold">
                    </div>
                    <div class="col-sm">
                        <label for="initiative">Platinum</label>
                        <input type="number" id="curr" name="plat">
                    </div>
                </div>

                <br><br>

                <h3>Languages and Proficiencies:</h3>
                <textarea id="misc" name="lang" rows="10" cols="100"></textarea>
                
                <br><br>

                <h3>Equipment:</h3>
                <textarea id="misc" name="equip" rows="10" cols="100"></textarea>

                <br><br>

                <h3>Personality Traits:</h3>
                <textarea id="misc" name="traits" rows="10" cols="100"></textarea>

                <br><br>

                <h3>Spells:</h3>
                <textarea id="misc" name="spells" rows="10" cols="100"></textarea>
            </div>
        </div>

            <br><br>
            
            <div id="step-6">
                <h2>Step 6: Export</h2>

                <p>You're almost done! Just click the buttons below to save different versions of your character sheet. 
                    You can use the .json file you get to edit your character sheet later, and the .pdf file to turn this 
                    information into a good looking character sheet!
                </p>
                    <div class="container">
                        <div class="row">
                            <div class="col-lg"></div>
                            <div class="col-lg">
                                <input type="submit" name="submit" value="Export">
                        
                            </div>
                        </div>
                    </div>
                <br>
            </div>
    </div>
    <button id="exportjson" onclick="exportJSON()">Export as JSON</button><br><br>
</form>
       

</body>

</html>